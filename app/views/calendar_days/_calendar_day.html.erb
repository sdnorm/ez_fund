<%= turbo_frame_tag calendar_day do %>
  <div class="relative p-4 border rounded-lg <%= day_status_classes(calendar_day) %>">
    <div class="text-center">
      <span class="text-lg font-bold"><%= calendar_day.day_number %></span>
      
      <% if calendar_day.available? %>
        <%= button_to select_calendar_day_path(calendar_day),
            class: "mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600" do %>
          Select Day <%= calendar_day.day_number %>
        <% end %>
      <% elsif calendar_day.selected? %>
        <div class="text-sm text-gray-500 mb-2">
          Selected (<%= time_ago_in_words(calendar_day.selected_at + 4.minutes) %> left)
        </div>
        <%= button_to unselect_calendar_day_path(calendar_day),
            class: "mt-2 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600" do %>
          Release Day <%= calendar_day.day_number %>
        <% end %>
      <% else %>
        <div class="text-sm text-green-500">Purchased</div>
      <% end %>
    </div>
  </div>
<% end %> 